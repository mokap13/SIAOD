<mah:MetroWindow x:Class="neuroApp.AddPatientWIndow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:neuroApp"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        mc:Ignorable="d"
        Title="Новый пациент" Height="auto" Width="auto"
        EnableDWMDropShadow="True">
    <Window.Resources>
        <Style TargetType="Label">
            <Setter Property="Margin" Value="2"></Setter>
            <Setter Property="Padding" Value="2"></Setter>
            <Setter Property="Width" Value="auto"></Setter>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="2"></Setter>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Margin" Value="2"></Setter>
        </Style>
        <Style TargetType="UniformGrid">
            <Setter Property="Width" Value="auto"></Setter>
        </Style>
    </Window.Resources>
    <Grid>
        <TabControl TabStripPlacement="Left" Width="auto">
            <TabControl.Resources>
                <Style x:Key="MenuLevel2" BasedOn="{StaticResource MetroTabItem}" TargetType="{x:Type TabItem}">
                    <Setter Property="mah:ControlsHelper.HeaderFontSize" Value="15"/>
                    <!--<Setter Property="mah:TabControlHelper.UnderlineMouseOverSelectedBrush" Value="Aqua"></Setter>-->
                </Style>
            </TabControl.Resources>
            <TabItem x:Name="passportData" Style="{DynamicResource MenuLevel2}">
                <TabItem.Header>
                    Паспортные данные
                </TabItem.Header>
                <TabItem.Content>
                    <GroupBox Header="Паспортные данные">
                        <Grid VerticalAlignment="Top" Margin="3">
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Label Content="Фамилия" Grid.Column="0" Grid.Row="0"/>
                            <TextBox Name="textBox_Family" Grid.Column="1" Grid.Row="0" PreviewTextInput="TextValidationTextBox" TextChanged="TextBox_Family_TextChanged"/>

                            <Label Content="Имя" Grid.Column="0" Grid.Row="1"/>
                            <TextBox Name="textBox_Name" Grid.Column="1" Grid.Row="1" PreviewTextInput="TextValidationTextBox" TextChanged="TextBox_Name_TextChanged"/>

                            <Label Content="Отчество" Grid.Column="0" Grid.Row="2"/>
                            <TextBox Name="textBox_Otchestvo" Grid.Column="1" Grid.Row="2" PreviewTextInput="TextValidationTextBox" TextChanged="TextBox_Otchestvo_TextChanged"/>

                            <Label Content="№ отряда" Grid.Column="0" Grid.Row="3"/>
                            <TextBox Grid.Column="1" Grid.Row="3"/>
                            <Label Content="Откуда прибыл" Grid.Column="0" Grid.Row="4"/>
                            <TextBox Grid.Column="1" Grid.Row="4"/>

                            <Label Content="Дата рождения" Grid.Column="0" Grid.Row="5"/>
                            <DatePicker Name="datePicker_Birthday" Grid.Column="1" Grid.Row="5"    SelectedDateChanged="DatePicker_Birthday_SelectedDateChanged" Loaded="DatePicker_Birthday_Loaded"/>
                            <Label Name="label_age" Content="" Grid.Column="1" Grid.Row="6" Background="{DynamicResource {x:Static SystemColors.ControlLightBrushKey}}"/>
                        </Grid>
                    </GroupBox>
                </TabItem.Content>
            </TabItem>
            <TabItem x:Name="complaints" Style="{DynamicResource MenuLevel2}">
                <TabItem.Header>
                    Жалобы
                </TabItem.Header>
                <TabItem.Content>
                    <GroupBox Header="Жалобы">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Row="0">
                                <CheckBox Content="Общая слабость"/>
                                <CheckBox Content="Кашель"/>
                                <CheckBox Content="Потливость"/>
                                <CheckBox Content="Одышка"/>
                                <CheckBox Content="Похудание"/>
                                <CheckBox Content="Снижение аппетита"/>
                                <CheckBox Content="Кровохарканье"/>
                            </StackPanel>
                            <Grid VerticalAlignment="Stretch" Grid.Row="1">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*"></RowDefinition>
                                    <RowDefinition Height="5*"></RowDefinition>
                                </Grid.RowDefinitions>
                                <Label Content="Прочие" Grid.Row="0"/>
                                <TextBox Grid.Row="1" Height="auto" SpellCheck.IsEnabled="True"/>
                            </Grid>
                        </Grid>
                    </GroupBox>
                </TabItem.Content>
            </TabItem>
            <TabItem x:Name="hivStatus" Style="{DynamicResource MenuLevel2}">
                <TabItem.Header>
                    ВИЧ
                </TabItem.Header>
                <TabItem.Content>
                    <GroupBox Header="ВИЧ">
                        <StackPanel Margin="3">
                            <UniformGrid Columns="2">
                                <Label Content="Длительность ВИЧ-инфекции"/>
                                <TextBox PreviewTextInput="NumberValidationTextBox"/>
                            </UniformGrid>

                            <UniformGrid Columns="2">
                                <Label Content="Стадия ВИЧ-инфекции"/>
                                <ComboBox Name="hivGradesList">
                                    <TextBlock>1</TextBlock>
                                    <TextBlock>2</TextBlock>
                                    <TextBlock>3</TextBlock>
                                    <TextBlock>4А</TextBlock>
                                    <TextBlock>4Б</TextBlock>
                                    <TextBlock>4В</TextBlock>
                                    <TextBlock>5 (СПИД)</TextBlock>
                                </ComboBox>
                            </UniformGrid>

                            <UniformGrid Columns="2">
                                <Label Content="Фаза ВИЧ"/>
                                <ComboBox Name="hivPhase">
                                    <TextBlock>Прогрессирование</TextBlock>
                                    <TextBlock>Ремиссия</TextBlock>
                                </ComboBox>
                            </UniformGrid>
                            <CheckBox Content="Отсутствие приверженности к АРВТ"/>
                            <CheckBox Content="Наркомания"/>
                        </StackPanel>
                    </GroupBox>
                </TabItem.Content>
            </TabItem>
            <TabItem x:Name="clinicalLaboratoryData" Style="{DynamicResource MenuLevel2}">
                <TabItem.Header>
                    Клинико-лабораторные данные
                </TabItem.Header>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="42*"></RowDefinition>
                        <RowDefinition Height="23*"></RowDefinition>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <GroupBox Header="Полный анализ крови" Padding="1" Grid.Column="0" Grid.Row="0" Margin="3">
                        <Grid Margin="2"  VerticalAlignment="Top">
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="85*"></ColumnDefinition>
                                <ColumnDefinition Width="63*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <DatePicker Grid.ColumnSpan="2" Margin="1"/>

                            <Label Content="Гемоглобин" Grid.Row="1" Grid.Column="0"/>
                            <TextBox Grid.Row="1" Grid.Column="1" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="Эритроциты" Grid.Row="2" Grid.Column="0"/>
                            <TextBox  Grid.Row="2" Grid.Column="1" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="Лейкоциты" Grid.Row="3" Grid.Column="0"/>
                            <TextBox  Grid.Row="3" Grid.Column="1" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="Тромбоциты"  Grid.Row="4" Grid.Column="0"/>
                            <TextBox  Grid.Row="4" Grid.Column="1" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="Лимфоциты" Grid.Row="5" Grid.Column="0"/>
                            <TextBox Grid.Row="5" Grid.Column="1" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="СОЭ" Grid.Row="6" Grid.Column="0"/>
                            <TextBox  Grid.Row="6" Grid.Column="1" PreviewTextInput="NumberValidationTextBox"/>
                        </Grid>
                    </GroupBox>
                    <GroupBox Header="Биохимический анализ крови" Padding="1" Grid.Column="1" Grid.Row="0" Margin="3">
                        <Grid Margin="2,2,2,2" VerticalAlignment="Top">
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="85*"></ColumnDefinition>
                                <ColumnDefinition Width="63*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <DatePicker Grid.ColumnSpan="2" Margin="1"/>

                            <Label Content="АЛТ" Grid.Column="0" Grid.Row="1"/>
                            <TextBox Grid.Column="1" Grid.Row="1" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="АСТ" Grid.Column="0" Grid.Row="2"/>
                            <TextBox Grid.Column="1" Grid.Row="2" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="Общий билирубин" Grid.Column="0" Grid.Row="3"/>
                            <TextBox Grid.Column="1" Grid.Row="3" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="Креатинин" Grid.Column="0" Grid.Row="4"/>
                            <TextBox Grid.Column="1" Grid.Row="4" PreviewTextInput="NumberValidationTextBox"/>
                        </Grid>
                    </GroupBox>
                    <GroupBox Header="Иммунограмма" Grid.Row="1" Grid.ColumnSpan="2"  Padding="1">
                        <Grid VerticalAlignment="Top">
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="173*"></ColumnDefinition>
                                <ColumnDefinition Width="51*"></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <DatePicker Grid.ColumnSpan="1" Grid.Row="0" Margin="1"/>

                            <Label Content="CD 4" Grid.Column="0" Grid.Row="1"/>
                            <TextBox Grid.Column="1" Grid.Row="1" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="CD 8" Grid.Column="0" Grid.Row="2"/>
                            <TextBox Grid.Column="1" Grid.Row="2" PreviewTextInput="NumberValidationTextBox"/>

                            <Label Content="Вирусная нагрузка (РНК ВИЧ)" Grid.Column="0" Grid.Row="3"/>
                            <TextBox Grid.Column="1" Grid.Row="3" PreviewTextInput="NumberValidationTextBox"/>
                        </Grid>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem x:Name="somaticStatusSpecials" Style="{DynamicResource MenuLevel2}">
                <TabItem.Header>
                    Объективный статус
                </TabItem.Header>
                <TabItem.Content>
                    <GroupBox Header="Объективный статус">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*"></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Margin="3">
                                <UniformGrid Columns="2">
                                    <Label Content="Состояние"/>
                                    <ComboBox>
                                        <ComboBoxItem>Удовлетворительное</ComboBoxItem>
                                        <ComboBoxItem>Средней степени тяжести</ComboBoxItem>
                                        <ComboBoxItem>Тяжёлое</ComboBoxItem>
                                    </ComboBox>
                                </UniformGrid>

                                <UniformGrid Columns="3">
                                    <Label Content="ЧСС"/>
                                    <TextBox PreviewTextInput="NumberValidationTextBox" TextChanged="TextBox_CHSS_TextChanged"/>
                                    <Label Content="уд/мин"/>
                                </UniformGrid>
                                <UniformGrid Columns="3">
                                    <Label Content="Артериальное давление"/>
                                    <TextBox PreviewTextInput="NumberValidationTextBox"/>
                                    <Label Content="мм рт. ст."/>
                                </UniformGrid>
                                <UniformGrid Columns="3">
                                    <Label Content="ЧДД"/>
                                    <TextBox PreviewTextInput="NumberValidationTextBox"/>
                                    <Label Content="/мин"/>
                                </UniformGrid>
                                <UniformGrid Columns="3">
                                    <Label Content="Температура"/>
                                    <TextBox PreviewTextInput="NumberValidationTextBox" TextChanged="TextBox_temperature_TextChanged"/>
                                    <Label Content="С°"/>
                                </UniformGrid>

                                <CheckBox Content="Лимфаденатопия"/>
                                
                                <CheckBox Name="checkBox_tahicardia" Content="Тахикардия" IsEnabled="False"/>
                                <CheckBox Content="Аритмия"/>
                                <CheckBox Content="Спленомегалия"/>
                                <CheckBox Content="Гепатомегалия"/>
                                <CheckBox Name="checkBox_lihoradka" Content="Лихорадка" IsEnabled="False"/>
                                <CheckBox Content="Гепотамегалия"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="3">
                                <UniformGrid Columns="2">
                                    <Label Content="Рост (см)"/>
                                    <TextBox Name="textBox_patientHeight" PreviewTextInput="NumberValidationTextBox" TextChanged="TextBox_patientHeight_TextChanged"/>
                                </UniformGrid>
                                <UniformGrid Columns="2">
                                    <Label Content="Вес (кг)"/>
                                    <TextBox Name="textBox_patientWeigth" PreviewTextInput="NumberValidationTextBox" TextChanged="TextBox_patientWeigth_TextChanged"/>
                                </UniformGrid>
                                <UniformGrid Columns="2">
                                    <Label Content="ИМТ"/>
                                    <Label Name="label_IMT" Content="-----" Background="{DynamicResource {x:Static SystemColors.ControlLightBrushKey}}"/>
                                </UniformGrid>
                                <CheckBox Content="Дефицит массы тела" IsEnabled="False"/>
                            </StackPanel>

                        </Grid>
                    </GroupBox>
                </TabItem.Content>
            </TabItem>
            <TabItem x:Name="tuberculosisStatus" Style="{DynamicResource MenuLevel2}">
                <TabItem.Header>
                    Туберкулёз
                </TabItem.Header>
                <TabItem.Content>
                    <GroupBox Header="Туберкулёз">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <StackPanel Margin="3" Grid.Row="0">
                                <CheckBox Content="Рецидив туберкулёзного процесса в анамнезе"/>
                                <CheckBox Content="Наличие деструкции лёгочной ткани"/>
                                <CheckBox Content="Отсутствие приверженности к лечению ПТП"/>
                                <CheckBox>
                                    <CheckBox.Content>
                                        <TextBlock>Отрицательная рентгенологическая
                                     <LineBreak/>динамика после ближайшего обследования
                                        </TextBlock>
                                    </CheckBox.Content>
                                </CheckBox>
                                <UniformGrid Columns="2">
                                    <Label Content="Форма туберкулезного процесса"/>
                                    <ComboBox>
                                        <TextBlock>Контакт по туберкулёзу</TextBlock>
                                        <TextBlock>Клиническое излечение</TextBlock>
                                        <TextBlock>Очаговый</TextBlock>
                                        <TextBlock>Инфильтративный</TextBlock>
                                        <TextBlock>Диссеминированный</TextBlock>
                                        <TextBlock>ТВГЛУ</TextBlock>
                                        <TextBlock>Милиарный</TextBlock>
                                        <TextBlock>Фиброзно-кавернозный</TextBlock>
                                        <TextBlock>Туберкулёзный плеврит</TextBlock>
                                        <TextBlock>Внелегочной туберкулёз</TextBlock>
                                        <TextBlock>Казеозная пневмония</TextBlock>
                                    </ComboBox>
                                </UniformGrid>
                            </StackPanel>
                            <StackPanel Grid.Row="1">
                                <Label>Лекарственная устойчивость</Label>
                                <ListBox x:Name="medicamentResist" SelectionMode="Multiple" SelectionChanged="ListBox_medicamentResist_SelectionChanged" Loaded="ListtBox_medicamentResist_Loaded">
                                    <ListBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Columns="6"></UniformGrid>
                                        </ItemsPanelTemplate>
                                    </ListBox.ItemsPanel>
                                </ListBox>
                                <Label Name="label_medicamentResist" Background="{DynamicResource {x:Static SystemColors.ControlLightBrushKey}}">ЛУ отсутствует
                                </Label>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                </TabItem.Content>
            </TabItem>
            <TabItem x:Name="pathologies" Style="{DynamicResource MenuLevel2}">
                <TabItem.Header>
                    Сопутствующие заболевания
                </TabItem.Header>
                <TabItem.Content>
                    <GroupBox Header="Сопутствующе заболевания">
                        <StackPanel Margin="3">
                            <CheckBox Content="Хронический вирусный гепатит С"/>
                            <CheckBox Content="Хронический вирусный гепатит B"/>
                            <CheckBox Content="Токсический гепатит"/>
                            <CheckBox Content="Болезни почек"/>
                            <CheckBox Content="Сахарный диабет"/>
                            <CheckBox Content="Болезни ЖКТ"/>
                            <CheckBox Content="Остеопороз"/>
                            <CheckBox Content="Не-СПИД онкология"/>
                            <CheckBox Content="СПИД-индикаторные заболевания"/>
                            <CheckBox Content="Болезни сердечно-сосудистой системы"/>
                        </StackPanel>
                    </GroupBox>
                </TabItem.Content>
            </TabItem>
        </TabControl>
        <Button Name="button_addPatient" Content="Добавить пациента" HorizontalAlignment="Left" Margin="10,0,0,31" Width="130" Click="Button_addPatient_Click" IsEnabled="False" Height="25" VerticalAlignment="Bottom"/>

    </Grid>
</mah:MetroWindow>
